<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Cart</title>
    <link th:href="@{/styles/style.css}" rel="stylesheet"/>
</head>
<body>
<div th:insert="~{parts/catalog-header :: catalog-header(category='favorites')}"></div>
<div class="container">
    <div class="container__inner cart">
        <h2 th:if="${favorites.size() == 0}">There are no products here yet</h2>

        <div th:if="${favorites.size() > 0}" class="table__container">
            <div class="icon">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M15.7 4C18.87 4 21 6.98 21 9.76C21 15.39 12.16 20 12 20C11.84 20 3 15.39 3 9.76C3 6.98 5.13 4 8.3 4C10.12 4 11.31 4.91 12 5.71C12.69 4.91 13.88 4 15.7 4Z" stroke="#45a049" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
            </div>
            <table class="table">
                <thead>
                <tr>
                    <th>Product</th>
                    <th>Price</th>
                    <th>Delete</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="product: ${favorites}">
                    <td class="title">
                        <p th:text="${product.getName()}"></p>
                    </td>
                    <td th:text="'&#8364;'+ ${product.getPrice()}"></td>
                    <td>
                        <a th:href="@{/favorites/unlike(productId=${product.itemId})}">
                            <svg viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg"
                                 xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img"
                                 class="iconify iconify--twemoji" preserveAspectRatio="xMidYMid meet"
                                 fill="#000000">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <path fill="#DD2E44"
                                          d="M21.533 18.002L33.768 5.768a2.5 2.5 0 0 0-3.535-3.535L17.998 14.467L5.764 2.233a2.498 2.498 0 0 0-3.535 0a2.498 2.498 0 0 0 0 3.535l12.234 12.234L2.201 30.265a2.498 2.498 0 0 0 1.768 4.267c.64 0 1.28-.244 1.768-.732l12.262-12.263l12.234 12.234a2.493 2.493 0 0 0 1.768.732a2.5 2.5 0 0 0 1.768-4.267L21.533 18.002z"></path>
                                </g>
                            </svg>
                        </a>
                    </td>
                    <td>
                        <div th:if="${cart.contains(product)}" class="action__product favorite">
                            <p class="green">In the cart</p>
                        </div>
                        <a th:if="${!cart.contains(product)}" th:href="@{'/cart/add?productId=' + ${product.itemId}}"
                           class="action__favorite">Add to cart</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
</body>
</html>
