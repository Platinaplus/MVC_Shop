<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:form="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Admin</title>
    <link th:href="@{/styles/style.css}" rel="stylesheet"/>
</head>
<body>
<div th:insert="~{parts/admin-header :: admin-header(category='orders')}"></div>
<div class="container">
        <div class="container__inner cart">
            <h2 th:if="${orders.size() == 0}">There are no orders yet</h2>

            <div th:if="${orders.size() > 0}">
                <h2>My orders</h2>
                <table class="table">
                    <thead>
                    <tr>
                        <th>Order number</th>
                        <th>Username</th>
                        <th>Phone number</th>
                        <th>Date ordered</th>
                        <th>Status</th>
                        <th>Delete</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="order: ${orders}">
                        <td class="title">
                            <a th:href="@{/admin/order(orderId=${order.id})}">
                                <p th:text="${order.orderNumber}"></p>
                            </a>
                        </td>
                        <td th:text="${order.userId.getUsername()}"></td>
                        <td th:text="${order.userId.getPhoneNumber()}"></td>
                        <td th:text="${#dates.format(order.purchaseDate, 'dd-MMM-yyyy')}"></td>
                        <td th:text="${order.getStatus()}"></td>
                        <td>
                            <a th:if="${order.status.toString() == 'CREATED'}" th:href="@{/admin/orders/delete(id=${order.id})}">
                                <svg viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg"
                                     xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img"
                                     class="iconify iconify--twemoji" preserveAspectRatio="xMidYMid meet"
                                     fill="#000000">
                                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                    <g id="SVGRepo_iconCarrier">
                                        <path fill="#DD2E44"
                                              d="M21.533 18.002L33.768 5.768a2.5 2.5 0 0 0-3.535-3.535L17.998 14.467L5.764 2.233a2.498 2.498 0 0 0-3.535 0a2.498 2.498 0 0 0 0 3.535l12.234 12.234L2.201 30.265a2.498 2.498 0 0 0 1.768 4.267c.64 0 1.28-.244 1.768-.732l12.262-12.263l12.234 12.234a2.493 2.493 0 0 0 1.768.732a2.5 2.5 0 0 0 1.768-4.267L21.533 18.002z"></path>
                                    </g>
                                </svg>
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>
</html>